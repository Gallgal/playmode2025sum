<!DOCTYPE html>
<html lang="ko" class="use-fixed-bg">
<head>
<meta http-equiv="Content-Language" content="ko">
<link rel="canonical" href="https://어의실험극회.kr/">
<meta property="og:url" content="https://어의실험극회.kr/">
<meta property="og:image" content="https://어의실험극회.kr/resource/og-image.jpg">
    <meta charset='utf-8'>
<link rel="preload" as="image" href="./resource/after.jpeg">
<link rel="preload" as="image" href="./resource/before.jpeg">
<link rel="preload" as="image" href="./resource/night.jpeg">
<link rel="preload" as="image" href="./resource/after2.jpeg">
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name="color-scheme" content="light only"/>
	<meta name="supported-color-schemes" content="light"/>
    <title>청색편이</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <meta name="theme-color" content="#113340">
      <link rel="icon" type="image/x-icon" href="./resource/footer.svg">
      <link rel="apple-touch-icon" href="./resource/footer.svg">

    <!-- Open Graph (for KakaoTalk, Facebook, etc.) -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="청색편이">
    <meta property="og:title" content="청색편이 – 제92회 정기공연">
    <meta property="og:description" content="서울과학기술대학교 중앙연극동아리 어의실험극회 제92회 정기공연">
    <!-- NOTE: Prefer an absolute URL for best compatibility -->
    <meta property="og:image" content="https://어의실험극회.kr/resource/og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:locale" content="ko_KR">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="청색편이 – 제92회 정기공연">
    <meta name="twitter:description" content="서울과학기술대학교 중앙연극동아리 어의실험극회 제92회 정기공연">
    <!-- Same image as OG -->
    <meta name="twitter:image" content="./resource/og-image.jpg">

    <!-- <link rel='stylesheet' type='text/css' media='screen' href='main.css'> -->
     <style>
        /* Pretendard (Safari-safe): variable first, static fallbacks */
        @font-face {
    font-family: 'Apple SD Gothic Neo';
    font-weight: 100;
    font-style: normal;
    font-display: swap;
    src: url('https://cdn.jsdelivr.net/gh/fonts-archive/AppleSDGothicNeo/AppleSDGothicNeo-Thin.woff2') format('woff2'),
         url('https://cdn.jsdelivr.net/gh/fonts-archive/AppleSDGothicNeo/AppleSDGothicNeo-Thin.ttf') format('truetype');
}
@font-face {
    font-family: 'Apple SD Gothic Neo';
    font-weight: 200;
    font-style: normal;
    font-display: swap;
    src: url('https://cdn.jsdelivr.net/gh/fonts-archive/AppleSDGothicNeo/AppleSDGothicNeo-ExtraLight.woff2') format('woff2'),
         url('https://cdn.jsdelivr.net/gh/fonts-archive/AppleSDGothicNeo/AppleSDGothicNeo-ExtraLight.ttf') format('truetype');
}
@font-face {
    font-family: 'Apple SD Gothic Neo';
    font-weight: 300;
    font-style: normal;
    font-display: swap;
    src: url('https://cdn.jsdelivr.net/gh/fonts-archive/AppleSDGothicNeo/AppleSDGothicNeo-Light.woff2') format('woff2'),
         url('https://cdn.jsdelivr.net/gh/fonts-archive/AppleSDGothicNeo/AppleSDGothicNeo-Light.ttf') format('truetype');
}
@font-face {
    font-family: 'Apple SD Gothic Neo';
    font-weight: 400;
    font-style: normal;
    font-display: swap;
    src: url('https://cdn.jsdelivr.net/gh/fonts-archive/AppleSDGothicNeo/AppleSDGothicNeo-Regular.woff2') format('woff2'),
         url('https://cdn.jsdelivr.net/gh/fonts-archive/AppleSDGothicNeo/AppleSDGothicNeo-Regular.ttf') format('truetype');
}
@font-face {
    font-family: 'Apple SD Gothic Neo';
    font-weight: 500;
    font-style: normal;
    font-display: swap;
    src: url('https://cdn.jsdelivr.net/gh/fonts-archive/AppleSDGothicNeo/AppleSDGothicNeo-Medium.woff2') format('woff2'),
         url('https://cdn.jsdelivr.net/gh/fonts-archive/AppleSDGothicNeo/AppleSDGothicNeo-Medium.ttf') format('truetype');
}
@font-face {
    font-family: 'Apple SD Gothic Neo';
    font-weight: 600;
    font-style: normal;
    font-display: swap;
    src: url('https://cdn.jsdelivr.net/gh/fonts-archive/AppleSDGothicNeo/AppleSDGothicNeo-SemiBold.woff2') format('woff2'),
         url('https://cdn.jsdelivr.net/gh/fonts-archive/AppleSDGothicNeo/AppleSDGothicNeo-SemiBold.ttf') format('truetype');
}
@font-face {
    font-family: 'Apple SD Gothic Neo';
    font-weight: 700;
    font-style: normal;
    font-display: swap;
    src: url('https://cdn.jsdelivr.net/gh/fonts-archive/AppleSDGothicNeo/AppleSDGothicNeo-Bold.woff2') format('woff2'),
         url('https://cdn.jsdelivr.net/gh/fonts-archive/AppleSDGothicNeo/AppleSDGothicNeo-Bold.ttf') format('truetype');
}
@font-face {
    font-family: 'Apple SD Gothic Neo';
    font-weight: 800;
    font-style: normal;
    font-display: swap;
    src: url('https://cdn.jsdelivr.net/gh/fonts-archive/AppleSDGothicNeo/AppleSDGothicNeo-ExtraBold.woff2') format('woff2'),
         url('https://cdn.jsdelivr.net/gh/fonts-archive/AppleSDGothicNeo/AppleSDGothicNeo-ExtraBold.ttf') format('truetype');
}
@font-face {
    font-family: 'Apple SD Gothic Neo';
    font-weight: 900;
    font-style: normal;
    font-display: swap;
    src: url('https://cdn.jsdelivr.net/gh/fonts-archive/AppleSDGothicNeo/AppleSDGothicNeo-Black.woff2') format('woff2'),
         url('https://cdn.jsdelivr.net/gh/fonts-archive/AppleSDGothicNeo/AppleSDGothicNeo-Black.ttf') format('truetype');
}



html, body {
  height: 100%;
  margin: 0;
  min-width: 350px;
  scroll-behavior: smooth;
  background-color: #113340 !important;
  word-break: keep-all;
}

body {
  font-family: 'Pretendard', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
               'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', sans-serif;
  -webkit-font-smoothing: antialiased;     /* Safari/macOS */
  text-rendering: optimizeLegibility;
  font-synthesis: none;     
}

 




#section{position: absolute; width: 100vw; height: 100vh; margin: 0; overflow: hidden; z-index: 3; position: relative;}

.imgbg{
  width: 100vw;
  height: 100vh;
  margin: 0;
  background-size: cover;
  background-attachment: scroll;
  background-position: center;
}
#title{position: absolute; top: 0; left: 0; width: 100vw; height: 100vh; 
    margin: 0; background-color: white; z-index: 11; mix-blend-mode: screen; 
    display: grid; grid-template-columns: 20vw 60vw 20vw; grid-template-rows: 30% 40% 30%; justify-items: center;
    grid-template-areas:
		". ttlogo ."
		"   .    ttlogo    .   "
		"   .     ttlogo      .   ";
  align-items: center

}
#info{position: absolute; top: 0; left: 0; width: 100vw; height: 100vh; 
    margin: 0; z-index: 12;
    display: grid; grid-template-columns: 20vw 60vw 20vw; grid-template-rows: 30% calc(70% - 80px) 80px; grid-template-areas:
		"numb . credit"
		"   when    .    credit   "
		"   cplogo     .      caption   ";}
#numb{grid-area: numb; font-size: 20px; font-weight: 600; color: #98CADA; margin-top: 80px;margin-left: 80px; line-height: 150%;}
#when{
  
  grid-area: when;
  font-size: 16px;
  font-weight: 400;
  color: #113340;
  margin-left: 80px;
  line-height: 150%;
  display: flex;
  align-items: center;
  justify-content: flex-start;
}#credit{grid-area: credit; display: grid; grid-template-columns: 30% 70%; grid-template-areas:"job name";
font-size: 16px; font-weight: 400; color: #113340; line-height: 180%; margin-top: 80px;}
#caption{ grid-area: caption; font-size: 14px; font-weight: 400; color: #113340; margin-right: 80px; line-height: 150%; justify-items: baseline;}
#cplogo{grid-area: cplogo;     height: 40px;  content: url(./resource/cplogo.svg); margin-left: 80px;}

.ttlogo{ grid-area: ttlogo; content: url(./resource/title.svg); height:calc(100vh - 160px); margin: 80px; align-items: center; transform: translateX(-50px) perspective(10000px);   transform-origin: center center;
    transition: transform 0.1s ease-out;
  will-change: transform;
  
}


#bg5{
  background-image: url("./resource/after2.jpeg");
  background-size: cover;
  background-position: center;
  position: relative;
  height: auto;
}
#bg5::before {
  content: "";
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  /* Uniform dim overlay only (no top gradient) */
  background-color: rgba(17,51,64,0.5);
  z-index: 1;
  pointer-events: none; /* 클릭 방해 안 함 */
}

#bg5::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: 0;
  width: 100%;
  height: 200px;
  pointer-events: none;
  z-index: 2;
  background: linear-gradient(
    to bottom,
    rgba(17,51,64,0) 0%,
    #113340 100%
  );
}

/* Bottom gradient for bg4 (200px, transparent -> #113340) */
#bg4 { position: relative; }
#bg4::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: 0;
  width: 100%;
  height: 200px;
  pointer-events: none;
  z-index: 2;
  background: linear-gradient(to bottom, rgba(17,51,64,0) 0%, rgba(17,51,64,0.5) 100%);
}
#profile{width: calc(100vw - 160px); content: url(./resource/profile.png); margin: auto; padding-top: 15vh; padding-bottom: 40vh; position: relative; z-index: 2;}


#bg6{background-color: #113340; height: 100vh;}




#before{ width: 60vw; mix-blend-mode: overlay; content: url(./resource/2040.svg);}
#after{ width: 60vw; mix-blend-mode: overlay; content: url(./resource/2060.svg);}

.year{     padding: 80px; position: sticky; align-items: center; margin: 0px; display: flex; align-items: flex-start; mix-blend-mode: overlay; width: calc(100vw - 160px);}

.col{     padding: 80px; position: sticky; top: 80px; align-items: center; margin: 0px; padding-top: 0px; display: flex; align-items: flex-start; mix-blend-mode: overlay; width: calc(100vw - 160px);}
.synop{margin-left: 40px; font-weight: 600; font-size: 20px; line-height: 150%; color: #CBE0E3; mix-blend-mode: overlay;}


.col-1{width: 20%;padding: 40px;}
.col-2{width: 40%;padding: 40px;}
.col-3{width: 60%;padding: 40px;}
.col-4{width: 80%;padding: 40px;}
.col-5{width: 100%;padding: 40px;}

.footer{align-items: center; display: flex;}
.footer_cap{width: 50%; color: #CBE0E3; line-height: 150%; margin-left: 1%; margin-top: 40px;}
.btn{
  border: 1px solid #CBE0E3;
  width: 100%;
  height: 80px;
  border-radius: 16px;
  text-align: center;
  color: #CBE0E3;
  line-height: 80px;
  margin-top: 16px;
  transition: background-color 0.3s, color 0.3s;
}

.btn:hover {
  background-color: #CBE0E3;
  color: #113340;
}
#star {
  position: fixed;
  top: 20%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 200px;
  height: 360px;
  background: url('./resource/star.svg') no-repeat center / contain;
  mix-blend-mode: plus-lighter;
  opacity: 0;                /* hidden by default */
  pointer-events: none;      /* non-interactive */
  transition: opacity .35s ease; /* fade in/out */
  z-index: 999;
}

/* ===== Scroll Snap Fixes (added) ===== */
/* Make sure the actual scroll container has snap enabled */

/* Ensure each section is exactly one viewport tall so it snaps like pages */
section.imgbg {
  height: 100vh;          /* override earlier 150vh/200vh with a fixed viewport height */
  min-height: 100vh;      /* keep safety */
}

/* If there's a fixed header in the future, reserve space so snap aligns nicely */
/* body { scroll-padding-top: 0; } */

/* iOS/Safari workaround: background-attachment: fixed can break snapping */
@supports (-webkit-touch-callout: none) {
  .imgbg { background-attachment: scroll; }
}

/* Optional: tighten the feel of snapping on momentum scroll */
section.imgbg { scroll-snap-align: start; scroll-snap-stop: always; }

/* Selection colors only inside bg2 and bg4 */
#bg2 ::selection,
#bg4 ::selection { 
  background: #113340; /* deep teal */
  color: #CBE0E3;      /* light sky */
}

/* Firefox prefix */
#bg2 ::-moz-selection,
#bg4 ::-moz-selection { 
  background: #113340;
  color: #CBE0E3;
}

#footer_col{display: flex; flex-direction: column; height: 100vh; justify-content: center; width: 300px; margin: auto;}
#book1, #book2 { cursor: pointer; }





@media (max-width: 1024px) {


   #title {
    width: 100vw;
    margin: 0;
    grid-template-columns: 50% 50%;
    grid-template-rows: 15% 75% 10%;
    grid-template-areas:
	" . . "
  "ttlogo ttlogo"
  " .  . ";
   }
.ttlogo{height: 75vh; width: calc(100vw - 160px); margin: auto;}
#credit{display: none;}
#info{
  grid-template-columns: 50% 50%;
  grid-template-areas:
        "numb when"
        " . . "
        " cplogo caption ";
}
#when{margin-top: 40px; margin-left: 0; align-items: normal;}
#numb{margin-top: 40px;}
.year{padding: 24px; width: calc(100vw - 48px);
  flex-direction: column;}
#before, #after {width: 100%;}


  .synop {
    margin-left: 0;
    margin-top: 20px;
    line-height: 1.5;
  }
  #profile{content: url(./resource/m_profile.png); max-width: 400px;}

  #footer_col{max-width: 300px;}
}

/*---------------mobile---------------*/
/* === Mobile (<= 768px) === */
@media (max-width: 768px) {

  /* 섹션: 여백 조금, 세로 꽉 찬 느낌 유지 */
  section.imgbg {
    min-height: 100vh; /* 페이지감 유지 */
  }

  /* 타이틀 영역: 그리드 → 단일 컬럼 느낌 */
  #title {

            width: 100vw;
        grid-template-columns: 50% 50%;
        grid-template-rows: 20vh 60vh 20vh;
        grid-template-areas:
        " . . "
  "ttlogo ttlogo"
  " .  . ";

  }
  .ttlogo {
    width: 90vw;
    height: unset;
    margin: 5vw;
    transform: none;                 /* 모바일에선 3D 기울임 제거 */
    transition: none;
  }

  /* 인포 영역: 단일 컬럼으로 재배치 */
  #info {
    width: calc(100vw - 48px);
    margin: 24px;
    grid-template-columns: 50% 50%;
    grid-template-rows: 15% 75% 10%;
    grid-template-areas:
	" numb when "
  " . . "
  " cplogo  cplogo ";
    align-items: start;
    grid-template-rows:  20vh 60vh 20vh;
  }
  #numb, #when, #credit, #caption { margin: 0; }
  #caption{display: none;}
  #when { margin-left: 0px;}
  #credit {
   display: none;
  }
  #cplogo{margin: auto; margin-bottom: 10vh; }

  /* 스티키 섹션: 모바일에선 고정보다 흐르게 */
  #bg2, #bg4 { min-height: auto; }
  .col {
    position: static;   /* sticky 해제 */
    top: auto;
    padding: 24px 16px;
    align-items: flex-start;
  }
  .synop{font-size: 16px;}

  /* 버튼 터치 영역/비주얼 */
  .btn {
    height: 56px;
    line-height: 56px;
    border-radius: 12px;
    font-size: 16px;
  }

  /* 스타: 모바일에선 시야 분산 줄이려 숨김(원하면 지워도 됨) */
  #star { height: 240px;}

  /* 텍스트 크기 약간 다운(선택) */
  #numb { font-size: 18px; }
  #when, #credit, #caption { font-size: 14px; }

#profile{width: calc(100vw - 48px); min-width: 330px;  content: url(./resource/m_profile.png);}

#footer_col{width: calc(100vw - 48px); }
}



/* --- Dedicated scroll container to eliminate viewport overscroll bounce --- */
html, body { height: 100%; overflow: hidden; }
#scroller {
  height: 100vh;
  overflow-y: auto;
  overflow-x: hidden; /* added */
  overscroll-behavior-y: contain; /* prevent bounce at top/bottom */
  scroll-snap-type: y mandatory;  /* move snap to the container */
  -webkit-overflow-scrolling: touch; /* iOS smooth scrolling */
}




/* === Force light theme; disable dark-mode overrides === */
:root, html, body { color-scheme: light !important; }

@media (prefers-color-scheme: dark) {
  :root, html, body { color-scheme: light !important; }
  /* Ensure our intended background isn’t auto-darkened */
  body { background-color: #113340 !important; }
}

/* Prevent any auto inversion on media in some UAs */
img, picture, video, canvas {
  filter: none !important;
}

/* === Preloader (covers entire viewport until all assets load) === */
#preloader {
  position: fixed;
  inset: 0;
  background-color: #113340;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 14px;
  color: #CBE0E3;
  font-weight: 600;
  z-index: 99999;
  opacity: 1;
}
#preloader.fade-out {
  opacity: 0;
  transition: opacity .5s ease;
  pointer-events: none;
}
#preloader .spinner {
  width: 44px;
  height: 44px;
  border: 4px solid rgba(203,224,227,0.35);
  border-top-color: #CBE0E3;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}
#preloader .loading-text { margin: 0; }
@keyframes spin { to { transform: rotate(360deg); } }




/* === Global fixed background (iOS-safe) === */
#fixed-bg { position: fixed; inset: 0; z-index: 0; pointer-events: none; }
#fixed-bg .layer {
  position: absolute; inset: 0;
  background: center/cover no-repeat;
  opacity: 0; transition: opacity .6s ease;
  will-change: opacity, background-image, transform;
  transform: translateZ(0);
  backface-visibility: hidden;
}
#fixed-bg .layer.show { opacity: 1; }

#fixed-dim { position: fixed; inset: 0; z-index: 0;
  background: rgba(0,0,0,0); pointer-events: none;
  transition: background-color .25s ease;
  will-change: background-color;
}

/* 글로벌 고정 배경을 쓰는 동안, 섹션 자체 배경은 끄기 (중복 방지) */
html.use-fixed-bg .imgbg {
  background-image: none !important;
  background-attachment: scroll !important;
}

/* #bg1만 섹션 배경 살리기 */
html.use-fixed-bg #bg1.imgbg {
  background-image: url("./resource/after.jpeg") !important;
  background-size: cover;
  background-position: center;
  background-attachment: scroll; /* 사파리 깨짐 방지 */
}

/* 본문이 배경 위로 올라오도록 */
#scroller { position: relative; z-index: 1; }


/* === Hover-reveal Navbar === */
#hover-zone {
  position: fixed; top: 0; left: 0; width: 100vw; height: 10vh;
  z-index: 1002; /* 컨텐츠 위에 있어야 hover 감지 */
  background: transparent;
}

#navbar {
  position: fixed; top: 0; left: 0; width: 100vw; height: 10vh;
  transform: translateY(-100%);           /* 기본: 숨김 */
  transition: transform .28s ease;
  z-index: 1003;                           /* 별/콘텐츠 위 */
  pointer-events: none;                    /* 숨김 상태 클릭 막기 */

   -webkit-backdrop-filter: blur(8px);
  backdrop-filter: blur(8px);
  background-color: rgba(203,224,227,0.001); /* 투명에 가까움(시각 영향 거의 없음) */
  isolation: isolate; /* 블렌드 간섭 줄이기 */
}

/* 배경(연한 하늘색 그라디언트)만 multiply, 내부 내용은 일반 렌더링 */
#navbar::before {
  content: "";
  position: absolute; inset: 0;
  /* Slightly transparent at the top so backdrop blur is visible */
  background: linear-gradient(
    to bottom,
    rgba(152,202,218,1) 0%,  /* was 1 → 0.85 to allow blur visibility */
    rgba(152,202,218,0) 100%
  );
  mix-blend-mode: multiply;
  /* Blur what’s behind the navbar */
}
#navbar.open { transform: translateY(0); pointer-events: auto; }
#navbar:focus-within { transform: translateY(0); pointer-events: auto; }

/* Navbar inner layout */
#navbar .nav-inner {
  position: relative; z-index: 1;
  height: 100%;
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-items: center;
  padding: 0 80px;
}
#navbar .nav-left { display: flex; align-items: center; }
#navbar .nav-logo {
  width: 100px; height: 40px;
  background: url('./resource/home.svg') no-repeat left / contain;
}
/* New nav-menu container for menu links */
#navbar .nav-menu {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 32px;
}
#navbar .nav-menu a {
  color: #fff;
  text-decoration: none;
  font-weight: 500;
  font-size: 18px;
  text-shadow: 0 0 16px rgba(17, 51, 64, 0.25);
  text-decoration: none; /* 밑줄 제거 */
  transition: font-weight 0.2s ease; /* 부드럽게 변하게 */
}

.nav-menu a:hover {
  font-weight: 900; /* 호버 시 두껍게 */
}

#navbar .nav-menu a:focus,
#navbar .nav-menu a:hover {
  text-decoration: none;
  font-weight: 900;
}

@media (max-width: 768px) {
  #navbar .nav-logo { width: 110px; height: 32px; }
  #navbar .nav-right { gap: 12px; }
  #navbar .nav-inner { padding: 0 16px; }
}

/* === Sidebar (vertical) nav: this page only === */
/* Mobile/Tablet: hide top hover navbar */
@media (max-width: 1024px) {
  #hover-zone, #navbar { display: none !important; }
}
/* Desktop: hide sidebar/hamburger */
@media (min-width: 1025px) {
  #hamburger, #sidebar, #nav-backdrop { display: none !important; }
}

/* Floating hamburger button */
#hamburger {
  position: fixed; top: 16px; left: 16px; z-index: 1200;
  width: 46px; height: 38px; border: 1px solid #CBE0E3; border-radius: 10px;
  background: rgba(17,51,64,0.35); color: #CBE0E3;
  -webkit-backdrop-filter: blur(6px); backdrop-filter: blur(6px);
  display: grid; place-items: center; cursor: pointer;
}
#hamburger .bars { position: relative; width: 22px; height: 2px; background: currentColor; }
#hamburger .bars::before, #hamburger .bars::after {
  content: ""; position: absolute; left: 0; width: 22px; height: 2px; background: currentColor;
}
#hamburger .bars::before { top: -7px; }
#hamburger .bars::after  { top:  7px; }

/* Backdrop behind the sidebar */
#nav-backdrop {
  position: fixed; inset: 0; z-index: 1199; background: rgba(0,0,0,0.35);
  opacity: 0; visibility: hidden; transition: opacity .25s ease, visibility .25s ease;
}
#nav-backdrop.show { opacity: 1; visibility: visible; }

/* Sidebar container */
#sidebar {
  position: fixed; top: 0; left: 0; height: 100vh; width: 280px; max-width: 85vw; z-index: 1201;
  transform: translateX(-100%); transition: transform .28s ease;
  color: #fff; isolation: isolate;
  -webkit-backdrop-filter: blur(10px); backdrop-filter: blur(10px);
}
/* Gradient panel behind content (multiply like navbar) */
#sidebar::before {
  content: ""; position: absolute; inset: 0;
  background: linear-gradient(to bottom, rgba(152,202,218,0.95) 0%, rgba(152,202,218,0.65) 100%);
  mix-blend-mode: multiply;
}
#sidebar.open { transform: translateX(0); }

#sidebar .side-inner {
  position: relative; z-index: 1; height: 100%; display: grid; grid-template-rows: auto 1fr auto; gap: 16px;
  padding: 20px 18px 18px 18px;
}
#sidebar .side-header { display: flex; align-items: center; justify-content: space-between; }
#sidebar .side-logo { display: block; width: 140px; height: 40px; background: url('./resource/home.svg') no-repeat left/contain; filter: brightness(0) invert(1); }
#sidebar .side-close { width: 36px; height: 36px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.6);
  background: rgba(17,51,64,0.25); color: #fff; display: grid; place-items: center; cursor: pointer; }
#sidebar .side-close:before, #sidebar .side-close:after {
  content: ""; position: absolute; width: 18px; height: 2px; background: #fff;
}
#sidebar .side-close { position: relative; }
#sidebar .side-close:before { transform: rotate(45deg); }
#sidebar .side-close:after  { transform: rotate(-45deg); }

#sidebar nav.side-menu { display: grid; gap: 10px; align-content: start; margin-top: 8px; }
#sidebar nav.side-menu a {
  display: block; padding: 12px 10px; border-radius: 8px; color: #fff; text-decoration: none; font-weight: 400; font-size: 18px;
  text-shadow: 0 0 16px rgba(17,51,64,0.25);
}
#sidebar nav.side-menu a:hover, #sidebar nav.side-menu a:focus {
  background: rgba(255,255,255,0.18); font-weight: 900;
}

#sidebar .side-footer { font-size: 12px; opacity: .85; }

@media (max-width: 768px) {
  #hamburger { top: 12px; left: 12px; width: 42px; height: 36px; }
  #sidebar { width: 82vw; }
}

</style>
 </head>
 <body>
<div id="preloader">
  <div class="spinner"></div>
  <p class="loading-text">Loading…</p>
</div>
<div id="fixed-bg"><div class="layer a"></div><div class="layer b"></div></div>
<div id="fixed-dim"></div>
<!-- Hover zone to reveal navbar -->
<div id="hover-zone" aria-hidden="true"></div>

<!-- Top navbar (hidden by default, reveals on hover at top 10vh) -->
<nav id="navbar" role="navigation" aria-label="Main">
  <div class="nav-inner">
    <div class="nav-left">
      <a href="./index.html" class="nav-logo" aria-label="청색편이 로고"></a>
    </div>
    <div class="nav-menu">
      <a href="https://어의실험극회.kr/#bg6">티켓예매</a>
      <a href="./about/index.html">어의실험극회</a>
      <a href="./goods/index.html">텀블벅</a>
      <a href="./swag/index.html">협찬</a>
    </div>
  </div>
</nav>
<!-- Floating hamburger & Sidebar nav -->
<button id="hamburger" aria-label="메뉴 열기" aria-expanded="false"><span class="bars"></span></button>
<div id="nav-backdrop" hidden></div>
<aside id="sidebar" aria-hidden="true">
  <div class="side-inner">
    <div class="side-header">
      <a href="./index.html" class="side-logo" aria-label="홈으로"></a>
      <button class="side-close" aria-label="메뉴 닫기"></button>
    </div>
    <nav class="side-menu" aria-label="사이드 메뉴">
      <a href="https://어의실험극회.kr/#bg6">티켓예매</a>
      <a href="./about/index.html">어의실험극회</a>
      <a href="./goods/index.html">텀블벅</a>
      <a href="./swag/index.html">협찬</a>
    </nav>
    <div class="side-footer">© 어의실험극회</div>
  </div>
</aside>
<div id="scroller">
    <section class="imgbg" id="bg1">
        <!-- <div style="content: url(./resource/title.png);"></div> -->
         <div id="title">
            <div class="ttlogo"></div>
         </div>
         <div id="info">
            <div id="numb"> 서울과학기술대학교<br>중앙연극동아리 어의실험극회<br>제92회 정기공연</div>
            <div id="when"> 2025년 9월 3일 - 6일<br>서울과학기술대학교 <br>제1학생회관 3층 어의소극장</div>         
            <div id="cplogo"></div>
            <div id="credit"> 
                <div style="font-weight: 600; grid-area: job;">연출<br><br>조연출<br><br><br>기획장<br><br>배우<br><br><br><br><br><br>포스터<br><br>웹</div> 
                <div style="grid-area: name;">이태경<br><br>강지민<br>손예지<br><br>이승재<br><br>김민경<br>이솔<br>박훈양<br>이은수<br>조승진<br><br>주가을<br><br>조가은</div>

            </div>         
         
            <div id="caption"> *  천체가 관측자에게 빠르게 접근할때 나타나는 파장 변화</div>         



         </div>
    </section>
    <section class="imgbg" id="bg2">
        <!-- <div style="position: fixed; top: 0; left: 0; z-index: 11; width: 100px; height: 100px; content: url(./resource/before.png);"></div> -->
        <div class="year">
            <div id="before"></div>
            <div class="synop">소행성 충돌 10년 전, 멸망을 앞둔 세계.<br>지영과 인철은 끝이 정해진 시간 속에서, <br>아이를 낳을 것인가를 두고 마지막 선택 앞에 선다.</div>
        </div>
        </section>
    <section class="imgbg" id="bg3">
        <div style=" margin-top: 100px; display: flex; justify-content: center; ">
            <div id="star"></div>        
        </div>    
    </section>
    <section class="imgbg" id="bg4">
        <div class="year">
             <div id="after"></div>
             <div class="synop" style="color: #113340;">소행성 충돌 10년 후, 문명이 붕괴된 세계.<br> 기억을 잃은 채 기적적으로 생존한 소녀는 <br>반려로봇 '아루'와 기억을 되찾기 위해 고군분투 한다.</div>
        </div>
    </section>
    <section class="imgbg" id="bg5">
        <div id="profile"></div>
    </section>
    <section class="imgbg" id="bg6">
        <div id="footer_col"><div style="width: 48%; content: url(./resource/footer.svg);"></div>
            <div class="footer">
                <div class="footer_cap">서울과학기술대학교<br>제1학생회관 3층<br>어의소극장</div>
                <div class="footer_cap">2025년 9월<br>3-5일  19:00<br>6일  14:00, 18:00</div>
            </div>
            <div style="font-size: 14px; color: #CBE0E3; margin-top: 32px;">*  본 공연은 <b>무료공연</b>입니다.</div>
            <div class="btn" id="book1">일반 예매</div>
            <div class="btn" id="book2">노원구민 예매</div>
        </div>
    </section>
 </div>
<script>
// 링크 새 탭으로 열기
document.addEventListener('DOMContentLoaded', () => {
  const book1 = document.getElementById('book1');
  const book2 = document.getElementById('book2');

  function bind(btn, url) {
    if (!btn) return;
    btn.setAttribute('role', 'button');
    btn.setAttribute('tabindex', '0');
    const open = () => window.open(url, '_blank', 'noopener,noreferrer');
    btn.addEventListener('click', open);
    btn.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        open();
      }
    });
  }

  bind(book1, 'https://forms.gle/b6YnXp4om7Mfb1rHA');
  bind(book2, 'https://forms.gle/Av4WiJr5UPbTdiCo6');
});

// === Tilt + star visibility (moved in from stray script) ===
{
  const constrain = 300; // 기울기 민감도
  const moveFactor = 20; // XY 이동 민감도(px)
  const ex1Layer = document.querySelector('.ttlogo');
  if (ex1Layer) {
    // Detect touch/mobile (no hover, coarse pointer or touch-capable device)
    const isTouchEnv = (
      (window.matchMedia && window.matchMedia('(hover: none) and (pointer: coarse)').matches) ||
      navigator.maxTouchPoints > 0 ||
      navigator.msMaxTouchPoints > 0
    );

    if (!isTouchEnv) {
      function transforms(x, y, el) {
        const box = el.getBoundingClientRect();
        const calcX = -(y - box.top  - box.height / 2) / constrain;
        const calcY =  (x - box.left - box.width  / 2) / constrain;
        const moveX = (x - (box.left + box.width / 2)) / moveFactor;
        const moveY = (y - (box.top  + box.height / 2)) / moveFactor;
        return `
          perspective(1000px)
          rotateX(${calcX}deg)
          rotateY(${calcY}deg)
          translateX(${moveX}px)
          translateY(${moveY}px)
        `;
      }
      window.addEventListener('mousemove', (e) => {
        const xy = [e.clientX, e.clientY, ex1Layer];
        window.requestAnimationFrame(() => { ex1Layer.style.transform = transforms(...xy); });
      });
    } else {
      // On touch/mobile, make sure no transform updates happen
      ex1Layer.style.transform = 'none';
    }
  }

  window.history.scrollRestoration = 'manual';
  window.scrollTo(0, 0);

  const star = document.getElementById('star');
  const bg3  = document.getElementById('bg3');
  if (star && bg3) {
    const observer = new IntersectionObserver((entries) => {
      const entry = entries[0];
      star.style.opacity = entry.isIntersecting ? '1' : '0';
    }, { threshold: 0.6, root: document.getElementById('scroller') || null });
    observer.observe(bg3);
  }
}

// === Typing effect for .synop when its section snaps into view ===
(() => {
  const synops = Array.from(document.querySelectorAll('.synop'));
  if (!synops.length) return;

  const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  const timers = new Map();

  // Ensure all relevant sections have no data-synop-active attribute initially
  const sections = new Set(
    synops.map(el => el.closest('section.imgbg')).filter(Boolean)
  );
  sections.forEach(sec => {
    if (sec) sec.removeAttribute('data-synop-active');
  });

  // store original and clear
  synops.forEach(el => {
    if (el.dataset.synopPrepared) return;
    el.dataset.synopPrepared = '1';
    el.dataset.originalHtml = el.innerHTML;
    el.innerHTML = '';
  });

  function typeIn(el) {
    if (el.dataset.typing === '1') return;
    el.dataset.typing = '1';
    const original = (el.dataset.originalHtml || '').replace(/\r\n|\r|\n/g, '\n');
    const text = original.replace(/<br\s*\/?>(\s*)/gi, '\n');
    let i = 0;
    const baseDelay = prefersReduced ? 0 : 22;
    function step() {
      if (!el.dataset.typing) return;
      const chunk = text.slice(0, i);
      el.innerHTML = chunk.replace(/\n/g, '<br>');
      if (i >= text.length) { el.dataset.typing = ''; timers.delete(el); return; }
      i++;
      const prev = text[i - 1];
      let delay = baseDelay;
      if (prev === '\n') delay += 120; else if (/[.,!?…]/.test(prev)) delay += 60;
      const id = window.setTimeout(step, delay);
      timers.set(el, id);
    }
    step();
  }

  function reset(el) {
    const id = timers.get(el); if (id) window.clearTimeout(id);
    timers.delete(el);
    el.dataset.typing = '';
    el.innerHTML = '';
  }

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      const section = entry.target;
      const synop = section.querySelector('.synop');
      if (!synop) return;

      if (prefersReduced) {
        if (entry.isIntersecting) {
          synop.innerHTML = (synop.dataset.originalHtml || '');
        }
        return;
      }

      if (entry.isIntersecting && entry.intersectionRatio >= 0.6) {
        if (section.dataset.synopActive === 'true') return; // already active, skip
        section.dataset.synopActive = 'true';
        reset(synop);
        typeIn(synop);
      } else {
        section.dataset.synopActive = 'false';
        reset(synop);
      }
    });
  }, { threshold: 0.6, root: document.getElementById('scroller') || null });

  sections.forEach(sec => observer.observe(sec));
})();



// === Jump to hash target inside #scroller on initial load (e.g., /#bg6) ===
(() => {
  const scroller = document.getElementById('scroller');
  if (!scroller) return;
  function jumpToHash(){
    const hash = window.location.hash;
    if (!hash) return;
    const id = hash.slice(1);
    const target = document.getElementById(id);
    if (!target) return;
    // Wait a tick to ensure layout is ready
    setTimeout(() => { scroller.scrollTop = target.offsetTop; }, 0);
  }
  // Run on load and also if user navigates with back/forward to a hash URL
  window.addEventListener('load', jumpToHash);
  window.addEventListener('hashchange', jumpToHash);
})();

// === Global fixed background switcher (iOS-safe) + dim opacity ===
(() => {
  const scroller = document.getElementById('scroller');
  const fixed = document.getElementById('fixed-bg');
  const dim = document.getElementById('fixed-dim');
  if (!scroller || !fixed || !dim) return;

  // CSS 훅 활성화: 섹션 배경 끄기
  document.documentElement.classList.add('use-fixed-bg');

  // 두 장 레이어로 크로스페이드
  const layers = fixed.querySelectorAll('.layer');
  let cur = 0;

  // 섹션 ID → 배경 이미지 매핑 (너의 파일 경로 그대로)
  const map = {
    bg1: './resource/after.jpeg',
    bg2: './resource/before.jpeg',
    bg3: './resource/night.jpeg',
    bg4: './resource/after.jpeg',
  };

  function setBg(url){
    const next = layers[1 - cur];
    next.style.backgroundImage = `url('${url}')`;
    next.classList.add('show');
    layers[cur].classList.remove('show');
    cur = 1 - cur;
  }

  // 어떤 섹션이 보이는지 감지 (스냅 컨테이너는 #scroller)
  const secs = Array.from(document.querySelectorAll('section.imgbg'));
  const io = new IntersectionObserver((entries) => {
    entries.forEach(e => {
      if (e.isIntersecting && e.intersectionRatio >= 0.6) {
        const id = e.target.id;
        if (map[id]) setBg(map[id]);
      }
    });
  }, { threshold: [0.6], root: scroller });
  secs.forEach(s => io.observe(s));

  // 초기 배경
  if (secs[0] && map[secs[0].id]) {
    layers[cur].style.backgroundImage = `url('${map[secs[0].id]}')`;
    layers[cur].classList.add('show');
  }

  // 스크롤 진행도에 따라 딤(opacity) 조절
  const MAX = 0.1; // 최대 불투명도
  function updateDim(){
    const vh = scroller.clientHeight;
    let activeRect = null;
    for (const s of secs) {
      const r = s.getBoundingClientRect();
      if (r.bottom > 0 && r.top < vh) { activeRect = r; break; }
    }
    if (!activeRect) return;
    const visible = Math.min(Math.max((vh - activeRect.top) / vh, 0), 1);
    const opacity = Math.min(visible * MAX, MAX);
    dim.style.backgroundColor = `rgba(0,0,0,${opacity.toFixed(3)})`;
  }
  scroller.addEventListener('scroll', updateDim, { passive: true });
  updateDim();
})();

// === Sidebar (vertical nav) controls ===
(() => {
  const mqMobile = window.matchMedia('(max-width: 1024px)');
  if (!mqMobile.matches) return;
  const btn = document.getElementById('hamburger');
  const aside = document.getElementById('sidebar');
  const closeBtn = aside?.querySelector('.side-close');
  const backdrop = document.getElementById('nav-backdrop');
  if (!btn || !aside || !backdrop || !closeBtn) return;

  const open = () => {
    aside.classList.add('open');
    aside.setAttribute('aria-hidden', 'false');
    btn.setAttribute('aria-expanded', 'true');
    backdrop.hidden = false; backdrop.classList.add('show');
  };
  const close = () => {
    aside.classList.remove('open');
    aside.setAttribute('aria-hidden', 'true');
    btn.setAttribute('aria-expanded', 'false');
    backdrop.classList.remove('show');
    setTimeout(() => { backdrop.hidden = true; }, 250);
  };
  const toggle = () => (aside.classList.contains('open') ? close() : open());

  btn.addEventListener('click', toggle);
  closeBtn.addEventListener('click', close);
  backdrop.addEventListener('click', close);
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && aside.classList.contains('open')) close();
  });
})();

// === Hide preloader after all assets (images, fonts) are loaded ===
window.addEventListener('load', function() {
  const preloader = document.getElementById('preloader');
  if (!preloader) return;
  preloader.classList.add('fade-out');
  setTimeout(() => { preloader.style.display = 'none'; }, 550);
});

// === Navbar hover-reveal control ===
(() => {
  const mqDesk = window.matchMedia('(min-width: 1025px)');
  if (!mqDesk.matches) return;
  const zone = document.getElementById('hover-zone');
  const nav  = document.getElementById('navbar');
  if (!zone || !nav) return;

  let inside = false;
  const open  = () => { nav.classList.add('open'); };
  const close = () => { if (!inside && !nav.matches(':focus-within')) nav.classList.remove('open'); };

  zone.addEventListener('mouseenter', open);
  zone.addEventListener('mouseleave', close);

  nav.addEventListener('mouseenter', () => { inside = true; open(); });
  nav.addEventListener('mouseleave', () => { inside = false; close(); });

  // 키보드 접근성: 포커스 들어오면 열리고, 빠지면 닫힘
  nav.addEventListener('focusin', open);
  nav.addEventListener('focusout', () => { setTimeout(close, 0); });
})();

// === Intercept "굿즈/텀블벅" link to show alert instead of navigating ===
(() => {
  const msg = '텀블벅이 곧 오픈됩니다!';

  function bindGoodsLinks(root = document) {
    root.querySelectorAll('a[href*="goods/index.html"], a[href*="/goods"], a[href^="./goods"], a[href^="../goods"]').forEach(a => {
      a.addEventListener('click', (e) => {
        e.preventDefault();
        alert(msg);
      });
    });
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () => bindGoodsLinks());
  } else {
    bindGoodsLinks();
  }

  // Fallback: event delegation in case links are re-rendered later
  document.addEventListener('click', (e) => {
    const a = e.target.closest('a[href*="goods/index.html"], a[href*="/goods"], a[href^="./goods"], a[href^="../goods"]');
    if (!a) return;
    e.preventDefault();
    alert(msg);
  }, { capture: true });
})();
</script>
</body>
</html>